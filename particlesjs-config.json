function isPresidentsDay() {
    const today = new Date();
    if (today.getMonth() !== 1) return false; // Not February

    const day = today.getDate();
    const firstDay = new Date(today.getFullYear(), 1, 1).getDay();
    const thirdMonday = firstDay === 0 ? 16 : 23 - firstDay;

    return day === thirdMonday;
}

const valentineConfig = {
  particles: {
    number: { value: 400, density: { enable: true, value_area: 800 } },
    color: { value: "#fff" },
    shape: {
      type: "image",
      image: { src: "https://www.onlygfx.com/wp-content/uploads/2016/05/red-rose-1-624x616.png", width: 100, height: 100 }
    },
    opacity: { value: 0.5, random: true },
    size: { value: 12, random: true },
    move: { enable: true, speed: 1, direction: "bottom" }
  },
  interactivity: { detect_on: "canvas", events: { onhover: { enable: true, mode: "bubble" } } },
  retina_detect: true
};

const presidentsDayConfig = {
  particles: {
    number: { value: 400, density: { enable: true, value_area: 800 } },
    color: { value: "#fff" },
    shape: { type: "star" },
    opacity: { value: 0.5, random: true },
    size: { value: 12, random: true },
    move: { enable: true, speed: 1, direction: "bottom" }
  },
  interactivity: { detect_on: "canvas", events: { onhover: { enable: true, mode: "bubble" } } },
  retina_detect: true
};

const defaultConfig = {
  particles: {
    number: { value: 400, density: { enable: true, value_area: 800 } },
    color: { value: "#fff" },
    shape: { type: "circle" },
    opacity: { value: 0.5, random: true },
    size: { value: 4, random: true, anim: { enable: true, speed: 25 } },
    move: { enable: true, speed: 6, direction: "bottom" }
  },
  interactivity: { detect_on: "canvas", events: { resize: true } },
  retina_detect: true
};

const today = new Date();
const isValentines = today.getMonth() === 1 && today.getDate() === 14;
const isPresidents = isPresidentsDay();

particlesJS("particles-js", isValentines ? valentineConfig : isPresidents ? presidentsDayConfig : defaultConfig);
